# ozon_seller_api

___
Этот проект предоставляет набор функций и классов Python для работы с API Ozon Seller и Ozon Performance API. Он
предназначен для
упрощения взаимодействия с платформой OZON, облегчая анализ вашей эффективности продаж, отслеживание остатков и многое
другое.
___

### Особенности:

* Простой и согласованный доступ к API: Пакет предоставляет удобные функции для взаимодействия с различными методами API
  OZON.
* Обработка JSON-ответов: Пакет включает в себя функции для автоматического парсинга JSON-ответов от API в
  структурированные Python-объекты.
* Доступ к широкому спектру данных: Вы можете использовать пакет для получения данных о заказах, товарах, остатках,
  рейтинге магазина, статистике продаж и финансовых транзакциях.
* Гибкость и настройка: Пакет позволяет настроить запросы к API с помощью фильтров и параметров, чтобы получить именно
  те данные, которые вам нужны.
* Обработка ошибок: Пакет включает в себя механизмы обработки ошибок для обеспечения стабильности и надежности работы с
  API.

___

### Установка:

Этот проект пока не опубликован как пакет в PyPI. Чтобы использовать его, вам необходимо клонировать репозиторий и
установить зависимости:

- https://github.com/KlimAlexandrovich/OzonSellerApi.git
- cd ozon_seller_api
- pip install -r requirements.txt
  # Для запуска примеров в Jupyter можно установить дополнительные зависимости
  # из файла requirements-dev.txt:
  # pip install -r requirements-dev.txt

___

### Структура пакета:

* `ozon_seller_api`: Основной модуль пакета.
    * `annotations`: Аннотации для получаемых по API данных.
        * `data.py`
    * `fetchers`: Классы и функции для получения данных.
        * `FBO.py`
        * `FBS.py`
        * `Finance.py`
        * `Products.py`
        * `SellerRating.py`
        * `WareHouses.py`
    * `tools`: Функции по обработке данных, вспомогательные функции и класс обработчики исключений.
        * `functions.py`
        * `exeptions.py`
    * `test`: Примеры использования пакета.
        * `examples.ipynb`


___

### Запуск бота в Docker

1. Создайте файл `.env` в корне проекта и укажите в нём параметры:
   ```
   TELEGRAM_TOKEN=<token>
   OZON_CLIENT_ID=<client_id>
   OZON_API_KEY=<api_key>
   ```
2. Соберите и запустите контейнер:
   ```
   docker-compose up -d
   ```
3. Перезапустить контейнер можно командой:
   ```
   docker-compose restart
   ```
4. Для пересборки образа используйте:
   ```
   docker-compose up -d --build
   ```
5. Просмотреть логи:
   ```
   docker-compose logs -f
   ```
6. Остановить и удалить контейнер:
   ```
   docker-compose down
   ```

После запуска бот будет доступен в Telegram и сможет отдавать отчёт по команде `/pnl`.
Кроме того, реализована команда `/sales YYYY.MM.DD YYYY.MM.DD`, которая выводит
количество и сумму продаж и возвратов за указанный период.
